<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Get Users</title>
	<link rel="stylesheet" href="styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<header>
		<h1>CartCrafters</h1>
	</header>
	
	<div class="container">
		<table id="studentsTable" border="1">
		<tr>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Address</th>
			<th>Postal Code</th>
			<th>City</th>
			<th>Country</th>
			<th>Province</th>
			<th>Username</th>
			<th>ID</th>
		</tr>
		<!-- Rows will be dynamically added here -->
		</table>
	</div>
	
	<footer>
		<p>Â© 2023 Student Information System</p>
	</footer>
	
	<script>
		$(document).ready(function(){
			$.ajax({
				url: "http://localhost:8080/CartCrafters/api/user",
				type: 'GET',
				success: function(result){
					var table = $("#studentsTable");
					result.forEach(function(student){
						var row = $("<tr></tr>");
						row.append($("<td></td>").text(student.fName));
						row.append($("<td></td>").text(student.lName));
						row.append($("<td></td>").text(student.address));
						row.append($("<td></td>").text(student.postal));
						row.append($("<td></td>").text(student.city));
						row.append($("<td></td>").text(student.country));
						row.append($("<td></td>").text(student.province));
						row.append($("<td></td>").text(student.username));
						row.append($("<td></td>").text(student.userID));
						table.append(row);
					});
				}, error: function(error){
					console.log(error);
				}
			});
		});
	</script>
	
</body>
</html>