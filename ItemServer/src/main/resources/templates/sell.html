<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sell Item</title>
	<link rel="stylesheet" href="style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<header>
		<h1>CartCrafters</h1>
	</header>
	
	<form id="addItemForm">
		<label for="name">Item Name:</label>
		<input type="text" id="name" name="name" required><br>
		<label for="price">Starting Price:</label>
		<input type="text" id="price" name="price" required><br>
		<label for="type">Auction Type:</label>
		<select name="type" id="type">
    		<option value="forward">Forward</option>
  			<option value="dutch">Dutch</option>
		</select>
		<label for="endTime">Auction End Date (YYYY-MM-DD HH):</label>
		<select name="year" id="year">
    		<option value="2023">2023</option>
  			<option value="2024">2024</option>
		</select>
		<select name="month" id="month">
    		<option value="01">Jan</option>
  			<option value="02">Feb</option>
  			<option value="03">Mar</option>
  			<option value="04">Apr</option>
  			<option value="05">May</option>
  			<option value="06">Jun</option>
  			<option value="07">Jul</option>
  			<option value="08">Aug</option>
  			<option value="09">Sep</option>
  			<option value="10">Oct</option>
  			<option value="11">Nov</option>
  			<option value="12">Dec</option>
		</select>
		<select name="day" id="day">
    		<option value="01">1</option>
    		<option value="02">2</option>
    		<option value="03">3</option>
    		<option value="04">4</option>
    		<option value="05">5</option>
    		<option value="06">6</option>
    		<option value="07">7</option>
    		<option value="08">8</option>
    		<option value="09">9</option>
    		<option value="10">10</option>
    		<option value="11">11</option>
    		<option value="12">12</option>
    		<option value="13">13</option>
    		<option value="14">14</option>
    		<option value="15">15</option>
    		<option value="16">16</option>
    		<option value="17">17</option>
    		<option value="18">18</option>
    		<option value="19">19</option>
    		<option value="20">20</option>
    		<option value="21">21</option>
    		<option value="22">22</option>
    		<option value="23">23</option>
    		<option value="24">24</option>
    		<option value="25">25</option>
    		<option value="26">26</option>
    		<option value="27">27</option>
    		<option value="28">28</option>
    		<option value="29">29</option>
    		<option value="30">30</option>
    		<option value="31">31</option>
		</select>
		<select name="hour" id="hour">
    		<option value="01">1</option>
    		<option value="02">2</option>
    		<option value="03">3</option>
    		<option value="04">4</option>
    		<option value="05">5</option>
    		<option value="06">6</option>
    		<option value="07">7</option>
    		<option value="08">8</option>
    		<option value="09">9</option>
    		<option value="10">10</option>
    		<option value="11">11</option>
    		<option value="12">12</option>
    		<option value="13">13</option>
    		<option value="14">14</option>
    		<option value="15">15</option>
    		<option value="16">16</option>
    		<option value="17">17</option>
    		<option value="18">18</option>
    		<option value="19">19</option>
    		<option value="20">20</option>
    		<option value="21">21</option>
    		<option value="22">22</option>
    		<option value="23">23</option>
    		<option value="24">24</option>
		</select>

		<input type="submit" value="Submit">
	</form>
	<p id="confirmationMessage"></p>
	
	
	<script>
	$("#addItemForm").submit(function(e){
		e.preventDefault();
		
		var dateTime = [$("#year").val(), "-", 
						$("#month").val(), "-",
						$("#day").val(), " ",
						$("#hour").val(), ":",
						"00:00"
						];
		
		var itemData = {
		name: $("#name").val(),
		price: $("#price").val(),
		type: $("#type").val(),
		endTime: dateTime.join('')
		};
		$.ajax({
			url: "http://localhost:9090/item",
			type: 'POST',
			contentType: 'application/json',
			data: JSON.stringify(itemData),
			success: function(result){
				$("#confirmationMessage").text("Item added successfully!");
			}, error: function(error){
				console.log(error);
			}
		});
	});
	</script>
	
</body>
</html>